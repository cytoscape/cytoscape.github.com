<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Tue Nov 14 13:16:05 PST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>org.cytoscape.work (Cytoscape Swing App API (swing-app-api) 3.6.0 API)</title>
<meta name="date" content="2017-11-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.cytoscape.work (Cytoscape Swing App API (swing-app-api) 3.6.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Cytoscape 3.6.0 API</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/cytoscape/view/vizmap/mappings/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/cytoscape/work/json/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/cytoscape/work/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.cytoscape.work</h1>
<div class="docSummary">
<div class="block">This package defines the task framework, where tasks are units of work.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/ObservableTask.html" title="interface in org.cytoscape.work">ObservableTask</a></td>
<td class="colLast">
<div class="block">A <code>Task</code> that notifies its observers when it is finished
 executing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/ServiceProperties.html" title="interface in org.cytoscape.work">ServiceProperties</a></td>
<td class="colLast">
<div class="block">Reserved keywords for OSGi service properties (meta data).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/SynchronousTaskManager.html" title="interface in org.cytoscape.work">SynchronousTaskManager</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">A marker interface that indicates that the TaskManager in question will
 execute the tasks found in the TaskFactory synchronously with the current thread,
 blocking code execution until all tasks finish.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/Task.html" title="interface in org.cytoscape.work">Task</a></td>
<td class="colLast">
<div class="block">This interface specifies a unit of work to be executed
 asynchronously in its own
 <code>Thread</code> along with a user interface to
 display its progress, provide a means for the user to
 cancel the <code>Task</code>, and show information
 about any <code>Exception</code>s thrown during its
 execution.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TaskFactory.html" title="interface in org.cytoscape.work">TaskFactory</a></td>
<td class="colLast">
<div class="block">Returns an instance of a <a href="../../../org/cytoscape/work/TaskIterator.html" title="class in org.cytoscape.work"><code>TaskIterator</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TaskManager.html" title="interface in org.cytoscape.work">TaskManager</a>&lt;T,C&gt;</td>
<td class="colLast">
<div class="block">Executes the <a href="../../../org/cytoscape/work/Task.html" title="interface in org.cytoscape.work"><code>Task</code></a>s found in the <a href="../../../org/cytoscape/work/TaskIterator.html" title="class in org.cytoscape.work"><code>TaskIterator</code></a> provided by a <a href="../../../org/cytoscape/work/TaskFactory.html" title="interface in org.cytoscape.work"><code>TaskFactory</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TaskMonitor.html" title="interface in org.cytoscape.work">TaskMonitor</a></td>
<td class="colLast">
<div class="block">Used by a <code>Task</code>'s implementation <code>run</code> method
 to inform users of the status of its execution.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TaskObserver.html" title="interface in org.cytoscape.work">TaskObserver</a></td>
<td class="colLast">
<div class="block">An observer that gets notified when an <code>ObservableTask</code> finishes
 executing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableHandler.html" title="interface in org.cytoscape.work">TunableHandler</a></td>
<td class="colLast">
<div class="block">Interface for classes that deal with reading out and writing back 
 <code>Tunable</code>s and their properties.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableHandlerFactory.html" title="interface in org.cytoscape.work">TunableHandlerFactory</a>&lt;T extends <a href="../../../org/cytoscape/work/TunableHandler.html" title="interface in org.cytoscape.work">TunableHandler</a>&gt;</td>
<td class="colLast">
<div class="block">A factory service to create a <code>TunableHandler</code> for a single type of object,
 determined by the type of the field or the return value of the getter method in the
 appropriate methods.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableMutator.html" title="interface in org.cytoscape.work">TunableMutator</a>&lt;T extends <a href="../../../org/cytoscape/work/TunableHandler.html" title="interface in org.cytoscape.work">TunableHandler</a>,S&gt;</td>
<td class="colLast">
<div class="block">This is a type of tunable interceptor that reads <b>and
 modifies</b> the values annotated with the <a href="../../../org/cytoscape/work/Tunable.html" title="annotation in org.cytoscape.work"><code>Tunable</code></a>
 annotation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableRecorder.html" title="interface in org.cytoscape.work">TunableRecorder</a>&lt;T extends <a href="../../../org/cytoscape/work/TunableHandler.html" title="interface in org.cytoscape.work">TunableHandler</a>&gt;</td>
<td class="colLast">
<div class="block">TunableRecorder is a special type of tunable interceptor that 
 reads the state of the tunables <b>but does not modify the 
 value of the tunables</b>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableSetter.html" title="interface in org.cytoscape.work">TunableSetter</a></td>
<td class="colLast">
<div class="block">An API for setting tunable fields and methods with predetermined
 values in the Tasks found in the specified TaskIterator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableValidator.html" title="interface in org.cytoscape.work">TunableValidator</a></td>
<td class="colLast">
<div class="block">If implemented, this interface is used to apply a test to the modified values of a Tunable.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/AbstractTask.html" title="class in org.cytoscape.work">AbstractTask</a></td>
<td class="colLast">
<div class="block">A base class for tasks that need to be able to access the TaskIterator that contains them.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/AbstractTaskFactory.html" title="class in org.cytoscape.work">AbstractTaskFactory</a></td>
<td class="colLast">
<div class="block">A TaskFactory that is always ready to produce a TaskIterator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/AbstractTaskManager.html" title="class in org.cytoscape.work">AbstractTaskManager</a>&lt;T,C&gt;</td>
<td class="colLast">
<div class="block">Provides access to a TunableInterceptor to all derived classes and a 
 utility method to determine if an object has been annotated with Tunables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/AbstractTunableHandler.html" title="class in org.cytoscape.work">AbstractTunableHandler</a></td>
<td class="colLast">
<div class="block">Provides the standard implementation for most of the methods declared by the 
 TunableHandler interface.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/AbstractTunableInterceptor.html" title="class in org.cytoscape.work">AbstractTunableInterceptor</a>&lt;T extends <a href="../../../org/cytoscape/work/TunableHandler.html" title="interface in org.cytoscape.work">TunableHandler</a>&gt;</td>
<td class="colLast">
<div class="block">An abstract base class for TunableRecorder and TunableMutator implementations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/BasicTunableHandlerFactory.html" title="class in org.cytoscape.work">BasicTunableHandlerFactory</a>&lt;T extends <a href="../../../org/cytoscape/work/TunableHandler.html" title="interface in org.cytoscape.work">TunableHandler</a>&gt;</td>
<td class="colLast">
<div class="block">A convenience implementation of TunableHandlerFactory that will construct a TunableHandler
 of the specified type given the TunableHandler in question has at least two constructors, one
 with Field, Object, Tunable parameters and the other with Method, Method, Object, Tunable parameters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/FinishStatus.html" title="class in org.cytoscape.work">FinishStatus</a></td>
<td class="colLast">
<div class="block">Indicates the status of a task iterator when it has finished for <code>TaskObserver</code>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TaskIterator.html" title="class in org.cytoscape.work">TaskIterator</a></td>
<td class="colLast">
<div class="block">A TaskIterator provides the functionality of sequencing <a href="../../../org/cytoscape/work/Task.html" title="interface in org.cytoscape.work"><code>Task</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableGravityOrderer.html" title="class in org.cytoscape.work">TunableGravityOrderer</a></td>
<td class="colLast">
<div class="block">This class provides a comparator to order the <a href="../../../org/cytoscape/work/Tunable.html" title="annotation in org.cytoscape.work"><code>Tunable</code></a>s based on their
 gravity value.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/FinishStatus.Type.html" title="enum in org.cytoscape.work">FinishStatus.Type</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TaskMonitor.Level.html" title="enum in org.cytoscape.work">TaskMonitor.Level</a></td>
<td class="colLast">
<div class="block">Used by the <code>showMessage</code> method to indicate the severity of the message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/TunableValidator.ValidationState.html" title="enum in org.cytoscape.work">TunableValidator.ValidationState</a></td>
<td class="colLast">
<div class="block">The states the the validator can return.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Annotation Types Summary table, listing annotation types, and an explanation">
<caption><span>Annotation Types Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Annotation Type</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/ContainsTunables.html" title="annotation in org.cytoscape.work">ContainsTunables</a></td>
<td class="colLast">
<div class="block">An annotation designed to signal that the annotated field contains
 fields and methods that are annotated with the <a href="../../../org/cytoscape/work/Tunable.html" title="annotation in org.cytoscape.work"><code>Tunable</code></a> annotation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/ProvidesTitle.html" title="annotation in org.cytoscape.work">ProvidesTitle</a></td>
<td class="colLast">
<div class="block">An annotation type that can be applied to a <i>method</i> which returns a
 String that will be used for the title of a Tunable user interface dialog
 window.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/cytoscape/work/Tunable.html" title="annotation in org.cytoscape.work">Tunable</a></td>
<td class="colLast">
<div class="block">An annotation type that can be applied to public <i>fields</i> or a <i>methods</i> 
 in a <a href="../../../org/cytoscape/work/Task.html" title="interface in org.cytoscape.work"><code>Task</code></a> object that allows the <a href="../../../org/cytoscape/work/Task.html" title="interface in org.cytoscape.work"><code>Task</code></a> to be configured 
 with user supplied information.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.cytoscape.work Description">Package org.cytoscape.work Description</h2>
<div class="block">This package defines the task framework, where tasks are units of work.

  <h3>Tasks are like action listeners</h3>
  <p>
  Tasks are somewhat analogous to Swing action listeners. To recap Swing action
  listeners, let's say you want to create a menu item and listen to its
  selection. You would follow these steps:
  <ol>
   <li>Create a <code>JMenuItem</code> and assign it a name, icon, and tooltip.</li>
   <li>Write an action listener. This could be a named class or an anonymous class.</li>
   <li>Add the <code>ActionListener</code> to the menu item by calling the <code>addActionListener</code> method.
  </ol>
  When the user selects the menu item, Swing invokes your action listener.
  </p>

  <h3>Why tasks?</h3>
  <p>
  Cytoscape is in an OSGi environment. Its components are deliberately made to
  be loosely coupled, and this loose coupling changes how we think
  about action listeners. With action listeners, you have to explicitly tell
  an object you want to listen to it by calling a method on that object.
  In a loosely decoupled environment, action listeners are not appropriate. Instead,
  you implicitly tell an object you want to listen to it by exporting an OSGi service.
  That object knows all the OSGi services interested in it and calls them when necessary.
  </p>

  <p>
  We establish <a href="../../../org/cytoscape/work/Task.html" title="interface in org.cytoscape.work"><code>Task</code></a>s as a replacement for action listeners to take advantage
  of OSGi's loose coupling. A single task object can be thought of as an
  action listener. Tasks implement the <code>run</code> method, which is analogous
  to the action listener's <code>actionPerformed</code> method. A <a href="../../../org/cytoscape/work/TaskFactory.html" title="interface in org.cytoscape.work"><code>TaskFactory</code></a>
  creates tasks. You export a task factory as an OSGi service, not tasks.
  </p>

  <h3>Why task factories?</h3>
  <p>
  Why even have task factories? Why not just use tasks directly?
  Many times tasks need input parameters.
  For example, if you're performing the zoom in task, how would the task know which network
  view on which to perform the zoom? The <code>run</code> method, after all,
  does not allow for input parameters.
  To deal with this issue, you create a task factory that can take
  some parameters, then it returns a new task initialized with those parameters.
  The task can obtain those parameters either through its constructor or as an
  inner class that has access to the task factory's members.
  </p>

  <p>
  Moreover, a well written task factory returns new instances of <code>Task</code> each time
  the task factory is invoked. A new task object per invocation neatly contains state that does not
  spill over into separate task invocations. Incorrectly written task factories
  return the same task instance each time it is invoked.
  (If you know a functional programming language, here is an
  analogy: a task is like an inner function
  that the task factory function returns; the task gets inputs from free variables
  defined in the task factory function.)
  </p>
  
  <h3>Overview of a menu item with a task factory</h3>
  <p>
  To illustrate tasks and task factories, here is how you create a menu item
  in Cytoscape's OSGi environment:
  <ol>
   <li>
   Write a task factory.
   </li>
   <li>
   Create a list of properties about the task factory that specify the name of
   the menu item, its icon and tooltip.
   </li>
   <li>
   Register the task factory, along with its properties, an an OSGi service.
   </li>
  </ol>
  Cytoscape picks up the task factory, reads its properties, and creates a
  menu item just for that task factory. When that menu item is selected by the user,
  Cytoscape tells the task factory to create a task, then invokes it. Tasks
  are used for more than just creating menu items. For example, they are used for creating
  toolbar items as well.
  </p>

  <h3>Task iterators</h3>
  <p>
  Sometimes when a task is executing, you need to run additional
  tasks after it is done. <a href="../../../org/cytoscape/work/TaskIterator.html" title="class in org.cytoscape.work"><code>TaskIterator</code></a>s let you create a series of tasks
  where you choose the task to execute next, even while a task in that iterator
  is executing.
  </p>

  <p>
  When you write your task factory implementation, you return a <code>TaskIterator</code> that
  encapsulates your tasks. In most cases, you want to execute a
  single task, not a sequence of tasks. In this case, when you write a task factory
  implementation, return a new task iterator that only contains your single task.
  </p>

  <h3>Task managers</h3>
  <p>
  Most of the time, you export a task factory service, and Cytoscape
  invokes the task for you. Sometimes, you will want to invoke a task yourself.
  In this case, you import the <a href="../../../org/cytoscape/work/TaskManager.html" title="interface in org.cytoscape.work"><code>TaskManager</code></a> service
  and call the <a href="../../../org/cytoscape/work/TaskManager.html#execute-org.cytoscape.work.TaskIterator-"><code>TaskManager.execute(org.cytoscape.work.TaskIterator)</code></a> method to
  run the task.
  </p>

  <h3>Action listeners are dead&mdash;long live tasks</h3>
  <p>
  The analogy of tasks as an OSGi equivalent of action listeners sweeps many
  of its advantages under the rug. Here are some additional benefits of tasks:
  <ul>
   <li>
   Tasks are run asynchronously. This means you can encapsulate
   complicated, long-running algorithms entirely in a single task.
   You do not have to think about threading issues, as this will not freeze Cytoscape.
   However, if a portion of your task's code invokes Swing, you may have to wrap the 
   code in a <a href="http://docs.oracle.com/javase/8/docs/api/javax/swing/SwingUtilities.html?is-external=true#invokeLater-java.lang.Runnable-" title="class or interface in javax.swing"><code>SwingUtilities.invokeLater</code></a>.
   </li>
   <li>
   Because tasks can take a long time to complete,
   they can inform the user of its progress through <a href="../../../org/cytoscape/work/TaskMonitor.html" title="interface in org.cytoscape.work"><code>TaskMonitor</code></a>.
   <code>TaskMonitor</code>s are passed in to the task's <code>run</code> method.
   In the task's <code>run</code> method, you call its methods to update the user interface.
   </li>
   <li>
   Tasks can throw exceptions in the <code>run</code> method. Cytoscape will catch the exception and
   inform the user. When a task encounters an exception, it is considered good practice to catch
   the exception and throw another exception with a high-level explanation that the user
   can understand. For example, let's say your task is reading from a file, which can cause
   an <code>IOException</code> to be thrown. Because the explanation of the <code>IOException</code> will
   probably be unhelpful for the user, you should catch <code>IOException</code> and throw your own
   exception with an easily understandable explanation and some solutions for the user to remedy the problem.
   </li>
   <li>
   Tasks can be cancelled by the user. Tasks are required to implement the <code>cancel</code> method.
   Long-running tasks must respond to user cancellations and return from the
   <code>run</code> method gracefully.
   </li>
   <li>
   Tasks are independent of Swing. Provided that
   the <code>run</code> method does not explicitly use Swing,
   the task can be used in other environments besides Swing, like
   the command-line.
   </li>
   <li>
   Tasks can have user-defined inputs called <i>tunables</i>. When Cytoscape detects that
   the task has tunables, it creates an interface for user input.
   Once the user clicks OK, Cytoscape fills in the tunables with the user's input,
   then executes the task.
   Tunables are suited for algorithms with settings that the user can change before
   running the task.
   With tunables, you do not have to manually create a
   Swing dialog to get user input. If the task is run in the command-line, the user
   can still provide input.
   </li>
  </ul>
  </p>

  <h3>Task Factories in <a href="../../../org/cytoscape/task/package-summary.html"><code>org.cytoscape.task</code></a> Package</h3>
  <p>
  As stated above, the primary purpose of task factories is that they accept input parameters
  to be passed on to task instances. While developing Cytoscape, we found that many of our task
  factories accept the same input parameters. At the top level of the <a href="../../../org/cytoscape/task/package-summary.html"><code>org.cytoscape.task</code></a>
  package, we created a dozen specialized task factories that accept specific inputs.
  Each interface in this package is a specialized task factory that groups together
  task factory implementations based on common inputs.
  </p>
  
  <p>
  For instance, the <a href="../../../org/cytoscape/task/NodeViewTaskFactory.html" title="interface in org.cytoscape.task"><code>NodeViewTaskFactory</code></a> takes a node view as an input
  parameter. Instead of a <a href="../../../org/cytoscape/work/TaskFactory.html" title="interface in org.cytoscape.work"><code>TaskFactory</code></a>, when you write an
  implementation to <code>NodeViewTaskFactory</code>, Cytoscape understands that your task factory
  expects a node view as input. In terms of the user interface, Cytoscape will create a menu
  item for your task factory when the user right-clicks on a node. Your task factory
  will be invoked with the node view the user right-clicked on when the user selects your menu item.
  In this respect, a <code>NodeViewTaskFactory</code> defines an action that operates on a node view.
  </p>

  <p>
  Subpackages in the <a href="../../../org/cytoscape/task/package-summary.html"><code>org.cytoscape.task</code></a> package contain interfaces denoting
  common user actions in Cytoscape. In most cases, you do not write implementations to these
  interfaces. Instead, if you want to use the functionality specified by one of these
  interfaces, you import them as an OSGi service.
  </p>

  <p>
  Here's an example. The <a href="../../../org/cytoscape/task/create/CloneNetworkTaskFactory.html" title="interface in org.cytoscape.task.create"><code>CloneNetworkTaskFactory</code></a>
  interface in the <a href="../../../org/cytoscape/task/create/package-summary.html"><code>org.cytoscape.task.create</code></a> subpackage represents the action of
  duplicating a network. If you want to duplicate a <code>CyNetwork</code>, you would import the
  <code>CloneNetworkTaskFactory</code> as an OSGi service, then invoke its task by passing in
  the <code>CyNetwork</code> you want to duplicate to the task factory.
  </p>

  <p>
  Sometimes you do write your own implementation to an interface in a
  <a href="../../../org/cytoscape/task/package-summary.html"><code>org.cytoscape.task</code></a> subpackage. For instance, let's say you
  are developing your own method that analyzses the topology of a network.
  You encapsulate the analysis in a task. You then export your task factory service
  as an <a href="../../../org/cytoscape/task/analyze/AnalyzeNetworkCollectionTaskFactory.html" title="interface in org.cytoscape.task.analyze"><code>AnalyzeNetworkCollectionTaskFactory</code></a>.
  Exporting your interface using <code>AnalyzeNetworkCollectionTaskFactory</code>
  instead of just an <a href="../../../org/cytoscape/task/NetworkCollectionTaskFactory.html" title="interface in org.cytoscape.task"><code>NetworkCollectionTaskFactory</code></a>
  makes the purpose of your task more explicit.
  </p>

  <p>
  Before exporting your task through a basic <a href="../../../org/cytoscape/work/TaskFactory.html" title="interface in org.cytoscape.work"><code>TaskFactory</code></a>,
  it is important to think about the inputs the task needs and its objectives.
  Is it the case that your task operates on a <code>CyNetwork</code>?
  Your task factory should implement <a href="../../../org/cytoscape/task/NetworkTaskFactory.html" title="interface in org.cytoscape.task"><code>NetworkTaskFactory</code></a>.
  Specialized task factory interfaces in <a href="../../../org/cytoscape/task/package-summary.html"><code>org.cytoscape.task</code></a> make 
  the inputs and the objectives explicit.
  </p>

  <h3>Examples</h3>
  <h4>Hello World Menu Item</h4>
  <pre><code>
      class MyTask implements Task {
          public void run(TaskMonitor monitor) {
              logger.info("Hey chef");
          }

          public void cancel() {
          }
      }

      ...

      // Example that displays a user message at the bottom of the Cytoscape desktop
      Logger logger = LoggerFactory.getLogger("CyUserMessages");
      TaskFactory myTaskFactory = new TaskFactory() {
          public TaskIterator createTaskIterator() {
              return new TaskIterator(new MyTask());
          }

          public boolean isReady() {
              return true;
          }
      };
      Properties props = new Properties();
      props.setProperty(PREFERRED_MENU,"Apps");
      props.setProperty(TITLE,"Why, hello there children");
      props.setProperty(MENU_GRAVITY,"1.0");
      props.setProperty(TOOLTIP,"Demonstrates how cool the work framework is");
      registerService(bc, myTaskFactory, TaskFactory.class, props);
  </code></pre>

  <h4>Approximating &pi;</h4>
  Here is another example of a task that approximates &pi; using the Wallis product:
  <p align="center">
  <img src="http://latex.codecogs.com/gif.latex?\dpi{120} \frac{\pi}{2}=\prod^\infty_{n=1}\left( \frac{2n}{2n-1} \cdot \frac{2n}{2n+1} \right )=\left( \frac{2}{1} \cdot \frac{2}{3} \right ) \cdot \left( \frac{4}{3} \cdot \frac{4}{5} \right ) \cdot \left( \frac{6}{5} \cdot \frac{6}{7} \right ) \ldots">
  </p>
  <tt><pre>
      // Example that approximates pi
      Logger logger = LoggerFactory.getLogger("CyUserMessages");

      class MyPiTask implements Task {
          final int iterations = 1000;
          public void run(TaskMonitor monitor) {
              double pi = 2.0;
              for (int n = 1; n &lt;= iterations; n++) {
                  pi *= ((double) (2 * n) * (2 * n)) / ((2 * n - 1) * (2 * n + 1));
              }
              logger.info("Our approximation of pi is: " + Double.toString(pi));
          }

          public void cancel() {
          }
      }

      ...

      TaskFactory myTaskFactory = new TaskFactory() {
          public TaskIterator createTaskIterator() {
              return new TaskIterator(new MyPiTask());
          }

          public boolean isReady() {
              return true;
          }
      };

      Properties props = new Properties();
      props.setProperty(PREFERRED_MENU,"Apps");
      props.setProperty(TITLE,"Approximate Pi");
      props.setProperty(MENU_GRAVITY,"1.0");
      props.setProperty(TOOLTIP,"Approximates pi using the Wallis product");
      registerService(bc, myTaskFactory, TaskFactory.class, props);
  </tt></pre>

  <h4>Using a task monitor</h4>
  The problem with the above example is that if the &pi; calculation takes a long time,
  the user is not informed of its progress.
  Here, we modify <code>MyPiTask</code> so that it informs the user during this long calculation
  by using the task monitor.

  <tt><pre>
      class MyPiTask implements Task {
          final int iterations = 1000;
          public void run(TaskMonitor monitor) {
              <b>monitor.setTitle("Calculating Pi");</b>
              double pi = 2.0;
              for (int n = 1; n &lt;= iterations; n++) {
                  <b>monitor.setProgress(((double) n) / iterations);</b>
                  pi *= ((double) (2 * n) * (2 * n)) / ((2 * n - 1) * (2 * n + 1));
              }
              logger.info("Our approximation of pi is: " + Double.toString(pi));
          }

          public void cancel() {
          }
      }
  </pre></tt>

  <h4>Cancelling a task</h4>
  The problem with our task is that it
  does not adequately respond to user cancellation.
  When the user cancels the task, nothing happens. We have to fill in the
  <code>cancel</code> method. The main challenge of dealing with cancellation
  is that the thread executing <code>run</code> is different
  from the one executing <code>cancel</code>. We have to come up with a way
  to communicate cancellation from <code>cancel</code> to <code>run</code>.
  Here is how we deal with this issue:

  <tt><pre>
      class MyPiTask implements Task {
          final int iterations = 1000;
          <b>volatile boolean cancelled = false;</b>
          public void run(TaskMonitor monitor) {
              monitor.setTitle("Calculating Pi");
              double pi = 2.0;
              for (int n = 1; n &lt;= iterations; n++) {
                  <b>if (cancelled)</b>
                      <b>break;</b>
                  monitor.setProgress(((double) n) / iterations);
                  pi *= ((double) (2 * n) * (2 * n)) / ((2 * n - 1) * (2 * n + 1));
              }
              <b>if (!cancelled)</b>
                  logger.info("Our approximation of pi is: " + Double.toString(pi));
          }

          public void cancel() {
              <b>cancelled = true;</b>
          }
      }
  </pre></tt>

  When the user hits the Cancel button, Cytoscape invokes the <code>cancel</code> method.
  This method switches the <code>cancelled</code> variable to true. When <code>run</code> starts another
  iteration of the <code>for</code> loop, it checks the <code>cancelled</code> variable.
  Since <code>cancelled</code> was flipped, it stops the loop.
  In other words, the <code>cancel</code> method tells the <code>run</code> method to stop through
  the <code>cancelled</code> variable.

  <p>
  Communicating cancellation through a boolean variable
  works well for tasks with loops, since each loop iteration
  can just check if the variable has changed and stop.
  Tasks that do I/O operations, however, require more consideration,
  like a task that downloads a file from some URL.
  There are several ways you can deal with cancellation during an
  I/O operation:
  <ul>
   <li>
   Create a variable in your task that holds the thread executing <code>run</code>. When
   <code>run</code> first starts, fill in this variable with the method
   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#currentThread--" title="class or interface in java.lang"><code>Thread.currentThread()</code></a>. Now the <code>cancel</code> method
   can know the thread that is executing <code>run</code>.
   When cancellation occurs, call <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang"><code>Thread.interrupt()</code></a>
   on the thread executing <code>run</code>. Interrupting a thread
   in an I/O operation will sometimes stop it. Here's how this would look:
   <tt><pre>
     class MyTask implements Task {
         volatile Thread runThread = null;
         public void run(TaskMonitor monitor) {
             runThread = Thread.currentThread();

             ... // complicated I/O operations
         }

         public void cancel() {
             runThread.interrupt();
         }
     }
   </pre></tt>
   </li>
   <li>
   If your <code>run</code> method is reading from an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io"><code>InputStream</code></a>,
   a <a href="http://docs.oracle.com/javase/8/docs/api/java/io/Reader.html?is-external=true" title="class or interface in java.io"><code>Reader</code></a>, or a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net"><code>Socket</code></a>,
   call <code>close</code> from the <code>cancel</code> method.
   This will stop the I/O operation immediately in the <code>run</code> method.

   <p>
   It is discouraged to use <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html?is-external=true" title="class or interface in java.net"><code>URLConnection</code></a>, because
   it is not possible to cancel a pending connection. Consider
   using Apache HttpClient library instead.
   </p>
   </li>
   <li>
   Use Java's non-blocking I/O package: <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/package-summary.html?is-external=true"><code>java.nio</code></a>. Since non-blocking I/O operations
   are usually done in a loop, it works well with the approach of checking for cancellation
   from a variable. Using non-blocking I/O is more elegant, but it takes
   a lot more effort to write.
   </li>
  </ul>
  </p>
  
  <h4>A task with tunables</h4>
  We have hard-coded a value for the number of iterations to
  approximate &pi;. Thanks to tunables, we can easily give the
  user the option to specify
  the number of iterations. That way the user can decide how long to
  run our task&mdash;or how accurate our approximation should be.
  We make <code>iterations</code> a tunable whose value the user can specify.
  <pre>
      Task myPiTask = new Task() {
           @Tunable(description="How many iterations of the Wallis product to compute?")
          public int iterations = 1000;
          boolean cancelled = false;
          public void run(TaskMonitor monitor) {
              monitor.setTitle("Calculating Pi");
              double pi = 2.0;
              for (int n = 1; n <= iterations; n++) {
                  if (cancelled)
                      break;
                  monitor.setProgress(((double) n) / iterations);
                  pi *= (2 * n) * (2 * n) / ((2 * n - 1) * (2 * n + 1));
              }
              if (!cancelled)
                  logger.info("Our approximation of pi is: " + Double.toString(pi));
          }

          public void cancel() {
              cancelled = true;
          }
      };
  </pre></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Cytoscape 3.6.0 API</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/cytoscape/view/vizmap/mappings/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/cytoscape/work/json/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/cytoscape/work/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2011-2015 Cytoscape Consortium. All rights 						reserved.</small></p>
</body>
</html>
